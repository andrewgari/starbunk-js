# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================
NODE_ENV=production

# =============================================================================
# DISCORD BOT TOKENS
# =============================================================================
# Get tokens from: https://discord.com/developers/applications
# Each container uses its own Discord application/bot
# These are mapped to DISCORD_TOKEN in docker-compose.yml for each service

BUNKBOT_TOKEN=your-bunkbot-token-here
DJCOVA_TOKEN=your-djcova-token-here
COVABOT_TOKEN=your-covabot-token-here
BLUEBOT_TOKEN=your-bluebot-token-here
SNOWBUNK_TOKEN=your-snowbunk-token-here
# Fallback token for services that don't have their own token
STARBUNK_TOKEN=${SNOWBUNK_TOKEN}

# =============================================================================
# DISCORD APPLICATION CONFIGURATION
# =============================================================================
# Primary Discord server/guild ID
GUILD_ID=your-guild-id-here

# Client ID for DJCova (used for slash command registration)
CLIENT_ID=your-djcova-client-id-here

# =============================================================================
# AI/LLM CONFIGURATION (CovaBot only)
# =============================================================================
# Ollama configuration (local LLM)
# For Docker: use http://ollama:11434 (if ollama is in docker-compose)
# For local development: use http://127.0.0.1:11434
OLLAMA_API_URL=http://127.0.0.1:11434
OLLAMA_MODEL=qwen2.5:7b

# Automatically pull missing Ollama models at runtime (default: true)
# When enabled, if a model is not found, the bot will automatically download it
# This may take several minutes for large models but prevents manual intervention
OLLAMA_AUTO_PULL_MODELS=true

# Pull missing models on startup (default: true)
# When enabled, the bot will check for and start downloading the configured model during startup
# The download runs asynchronously and does not block the bot from starting to process messages
# Set to false if you want to pull models only on-demand (first 404 error)
OLLAMA_PULL_ON_STARTUP=true

# Timeout for model pull operations in milliseconds (default: 1200000 = 20 minutes)
# Large models (70B+) can be 40+ GB and may require longer timeouts
# Increase this value if you're pulling very large models on slow connections
OLLAMA_PULL_TIMEOUT_MS=1200000

# =============================================================================
# OBSERVABILITY/MONITORING CONFIGURATION
# =============================================================================
# Service ports for Prometheus scraping (host-side ports)
# These are the ports exposed on the host machine for external access
BUNKBOT_METRICS_PORT=9301
COVABOT_METRICS_PORT=9303
COVABOT_WEB_PORT=7080
DJCOVA_METRICS_PORT=9304
BLUEBOT_METRICS_PORT=9302

# Observability Configuration
ENABLE_METRICS=true
METRICS_PORT=3000

# =============================================================================
# DEBUG/TESTING CONFIGURATION (CovaBot only)
# =============================================================================
# DEBUG_MODE: Enable verbose debug logging and development behaviors (true/false)
# IMPORTANT FOR COVABOT: When DEBUG_MODE=true, CovaBot will ONLY respond to COVA_USER_ID
# This creates a calibration/testing mode where Cova can talk to the bot for testing
# Set to false for production deployment
DEBUG_MODE=false

# COVA_USER_ID: Discord user ID for Cova (used for debug mode filtering)
# In DEBUG_MODE, CovaBot will ONLY respond to this user ID
COVA_USER_ID=your-cova-user-id-here

# TESTING_SERVER_IDS: Comma-separated list of Discord server/guild IDs to restrict bot to
# When set, bot will ONLY process messages from these servers
# When empty, bot processes messages from any server
# Example: TESTING_SERVER_IDS=753251582719688714,987654321098765432
# Leave empty for production deployment to allow all servers
TESTING_SERVER_IDS=

# TESTING_CHANNEL_IDS: Comma-separated list of Discord channel IDs to restrict bot to
# When set, bot will ONLY process messages from these channels
# When empty, bot processes messages from any channel
# Example: TESTING_CHANNEL_IDS=1234567890,9876543210
TESTING_CHANNEL_IDS=

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================
# Path for persistent data storage (used by docker-compose volumes)
# For Unraid: set to /mnt/user/appdata/starbunk-js
# For local development: leave empty to use ./data
UNRAID_APPDATA_PATH=

# =============================================================================
# COVABOT CONFIGURATION
# =============================================================================
# CovaBot API key (optional, for web API authentication)
COVABOT_API_KEY=

# =============================================================================
# UNUSED / DEPRECATED VARIABLES
# =============================================================================
# The following variables are not currently used in docker-compose.yml
# They are kept here for reference or potential future use

# Reference IP addresses (for documentation only - not used by docker-compose)
AI_SERVICE_IP=127.0.0.1
DATABASE_IP=127.0.0.1
OBSERVABILITY_IP=127.0.0.1

# Individual client IDs (not used - docker-compose uses CLIENT_ID for DJCova only)
BUNKBOT_CLIENT_ID=your-bunkbot-client-id-here
DJCOVA_CLIENT_ID=your-djcova-client-id-here
COVABOT_CLIENT_ID=your-covabot-client-id-here
BLUEBOT_CLIENT_ID=your-bluebot-client-id-here

# OpenAI API configuration (not used in docker-compose)
# OPENAI_API_KEY=your-openai-api-key-here
OPENAI_DEFAULT_MODEL=gpt-4o-mini

# Google Gemini API configuration (not used in docker-compose)
# GEMINI_API_KEY=your-gemini-api-key-here
GEMINI_DEFAULT_MODEL=gemini-2.0-flash-exp

# PostgreSQL Configuration (not used - postgres service removed)
POSTGRES_DB=starbunk
POSTGRES_USER=starbunk
POSTGRES_PASSWORD=your-postgres-password
POSTGRES_PORT=5432
DATABASE_URL="postgresql://starbunk:your-postgres-password@127.0.0.1:5432/starbunk?schema=public"

# Qdrant Vector Database (not in docker-compose)
QDRANT_URL=http://127.0.0.1:6333
QDRANT_API_KEY=your-qdrant-api-key-here

# Embedding Configuration (not in docker-compose)
EMBEDDING_MODEL=Xenova/all-MiniLM-L6-v2
EMBEDDING_DIMENSIONS=384
EMBEDDING_BATCH_SIZE=16
EMBEDDING_CACHE_SIZE=2000
EMBEDDING_TIMEOUT=60000

# Memory Collections (not in docker-compose)
PERSONALITY_COLLECTION=covabot_personality
CONVERSATION_COLLECTION=covabot_conversations
MEMORY_COLLECTION=covabot_memory

# Qdrant Performance Tuning (not in docker-compose)
QDRANT_SEARCH_LIMIT=50
QDRANT_SIMILARITY_THRESHOLD=0.7
QDRANT_BATCH_SIZE=100

# Observability URLs (not in docker-compose)
OTEL_HOST=127.0.0.1
PROMETHEUS_URL=http://127.0.0.1:9090
PROMETHEUS_PUSHGATEWAY_URL=http://127.0.0.1:9091
GRAFANA_URL=http://127.0.0.1:3000
LOKI_URL=http://127.0.0.1:3100

# Unused observability settings (not in docker-compose)
LOG_LEVEL=info
LOG_FORMAT=json
ENABLE_STRUCTURED_LOGGING=true
METRICS_PUSH_INTERVAL=30000
HEALTH_PORT=3000
METRICS_AUTH_TOKEN=

# Performance tuning (not in docker-compose)
CIRCUIT_BREAKER_THRESHOLD=10
ENABLE_RUNTIME_METRICS=true
HTTP_TIMEOUT=10000
HTTP_MAX_REQUEST_SIZE=1048576

# Webhook Configuration (not in docker-compose)
WEBHOOK_URL=https://discord.com/api/webhooks/your/webhook/url/here

# E2E Live Testing Configuration (not in docker-compose)
E2E_TEST_WEBHOOK_URL=https://discord.com/api/webhooks/your/test/webhook/url
E2E_TEST_SERVER_ID=
E2E_TEST_CHANNEL_ID=
E2E_MONITOR_TOKEN=
E2E_ALLOW_WEBHOOK_TESTS=false
E2E_TIMEOUT_MS=20000
E2E_DELAY_MS=2000
E2E_INCLUDE_CHANCE_BOTS=false
E2E_CHANCE_ATTEMPTS=5
E2E_FAILURE_THRESHOLD=1

# Security Configuration (not in docker-compose)
# JWT_SECRET=your-jwt-secret-here
# API_KEY=your-api-key-here
