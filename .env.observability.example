# ============================================================================
# Observability Stack Environment Variables
# ============================================================================
# Copy this file to .env and customize for your deployment
#
# This configures the OTEL collector to send telemetry to your remote
# observability stack (e.g., Unraid server with Prometheus, Loki, Tempo, Grafana)
#
# The bots send telemetry to the OTEL collector, which forwards it to your
# remote observability services.
# ============================================================================

# ----------------------------------------------------------------------------
# General Configuration
# ----------------------------------------------------------------------------

# Working directory - absolute path to the repository root
# Required for volume mounts
HOST_WORKDIR=/path/to/starbunk-js

# Environment name (production, staging, development)
ENVIRONMENT=production

# Data storage path (for Unraid or custom deployments)
# Defaults to ./data if not set
UNRAID_APPDATA_PATH=./data

# ----------------------------------------------------------------------------
# Database Services Configuration
# ----------------------------------------------------------------------------
# These services are internal to the stack (not exposed to host)

# PostgreSQL - Relational database
POSTGRES_CONTAINER_NAME=starbunk-postgres
POSTGRES_USER=starbunk
POSTGRES_PASSWORD=starbunk
POSTGRES_DB=starbunk

# Redis - In-memory data store (social battery, caching)
REDIS_CONTAINER_NAME=starbunk-redis
REDIS_PASSWORD=
REDIS_HOST=starbunk-redis
REDIS_PORT=6379
REDIS_DB=0

# Qdrant - Vector database (saliency/interest matching)
QDRANT_CONTAINER_NAME=starbunk-qdrant
QDRANT_API_KEY=
QDRANT_URL=http://starbunk-qdrant:6333

# ----------------------------------------------------------------------------
# OpenTelemetry Collector Configuration
# ----------------------------------------------------------------------------

# Container naming
OTEL_COLLECTOR_CONTAINER_NAME=starbunk-otel-collector

# OTLP receiver ports (exposed to host for bots to send telemetry)
OTEL_GRPC_PORT=4317
OTEL_HTTP_PORT=4318

# ----------------------------------------------------------------------------
# Remote Observability Stack Configuration
# ----------------------------------------------------------------------------
# Configure these to point to your remote observability services
# (e.g., Unraid server, cloud provider, etc.)

# Prometheus - Metrics storage
# The OTEL collector will send metrics here via remote_write
PROMETHEUS_HOST=192.168.1.100  # Replace with your Prometheus server IP/hostname
PROMETHEUS_PORT=9090

# Loki - Log aggregation
# The OTEL collector will send logs here
LOKI_HOST=192.168.1.100  # Replace with your Loki server IP/hostname
LOKI_PORT=3100

# Tempo - Distributed tracing
# The OTEL collector will send traces here via OTLP
TEMPO_HOST=192.168.1.100  # Replace with your Tempo server IP/hostname
TEMPO_PORT=4317

# ============================================================================
# Quick Start Guide
# ============================================================================
#
# 1. Copy this file to .env:
#    cp .env.observability.example .env
#
# 2. Set your repository path:
#    HOST_WORKDIR=/path/to/starbunk-js
#
# 3. Configure your remote observability stack endpoints:
#    PROMETHEUS_HOST=192.168.1.100  # Your Unraid/remote server IP
#    LOKI_HOST=192.168.1.100
#    TEMPO_HOST=192.168.1.100
#
# 4. Start the application:
#    docker-compose up -d
#
# 5. Telemetry flow:
#    Bots → OTEL Collector (localhost:4317) → Remote Prometheus/Loki/Tempo
#
# 6. View in Grafana:
#    Access your remote Grafana instance to see bot metrics, logs, and traces
#
# ============================================================================
#
# Example for Unraid Server Setup:
# ---------------------------------
# If your Unraid server is at 192.168.1.100 and you're using the default ports:
#
# PROMETHEUS_HOST=192.168.1.100
# PROMETHEUS_PORT=9090
# LOKI_HOST=192.168.1.100
# LOKI_PORT=3100
# TEMPO_HOST=192.168.1.100
# TEMPO_PORT=4317
#
# ============================================================================

