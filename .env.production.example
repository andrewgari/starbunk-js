# ============================================================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# ============================================================================
# Template for production deployment on Unraid server
# Copy this file to .env on your Unraid server and fill in the values
# ============================================================================

# ----------------------------------------------------------------------------
# DEPLOYMENT CONFIGURATION
# ----------------------------------------------------------------------------
# Path to the starbunk-js compose directory on Unraid
# Typically: /mnt/user/appdata/starbunk
HOST_WORKDIR=/mnt/user/appdata/starbunk

# Environment tag (used for logging and monitoring)
ENVIRONMENT=production

# ----------------------------------------------------------------------------
# DISCORD BOT TOKENS (REQUIRED)
# ----------------------------------------------------------------------------
# Get tokens from: https://discord.com/developers/applications
# Store these in a secure location (1Password, BitWarden, etc.)

BUNKBOT_TOKEN=your-production-bunkbot-token-here
DJCOVA_TOKEN=your-production-djcova-token-here
COVABOT_TOKEN=your-production-covabot-token-here
BLUEBOT_TOKEN=your-production-bluebot-token-here

# ----------------------------------------------------------------------------
# OBSERVABILITY CONFIGURATION
# ----------------------------------------------------------------------------
# OTEL Collector host (use service name for internal networking)
OTEL_COLLECTOR_HOST=starbunk-otel-collector
OTEL_COLLECTOR_HTTP_PORT=4318
OTEL_COLLECTOR_GRPC_PORT=4317

# Enable observability features
ENABLE_METRICS=true
ENABLE_STRUCTURED_LOGGING=true
ENABLE_TRACING=true

# Metrics port (internal container port)
METRICS_PORT=3000

# Service names (for distributed tracing)
BUNKBOT_SERVICE_NAME=bunkbot
DJCOVA_SERVICE_NAME=djcova
COVABOT_SERVICE_NAME=covabot
BLUEBOT_SERVICE_NAME=bluebot

# ----------------------------------------------------------------------------
# LOGGING CONFIGURATION
# ----------------------------------------------------------------------------
LOG_LEVEL=info
LOG_FORMAT=json

# ----------------------------------------------------------------------------
# WEB SERVER PORTS
# ----------------------------------------------------------------------------
# BunkBot web interface port
BUNKBOT_WEB_PORT=7081

# DJCova web interface port (if applicable)
DJCOVA_WEB_PORT=7082

# ----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# ----------------------------------------------------------------------------
# PostgreSQL Configuration
POSTGRES_USER=starbunk
POSTGRES_PASSWORD=CHANGE_THIS_IN_PRODUCTION
POSTGRES_DB=starbunk
POSTGRES_HOST=starbunk-db
POSTGRES_PORT=5432

# Database connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10

# ----------------------------------------------------------------------------
# REDIS CONFIGURATION
# ----------------------------------------------------------------------------
REDIS_HOST=starbunk-cache
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_THIS_IN_PRODUCTION

# Redis persistence settings
REDIS_SAVE_INTERVAL=300
REDIS_MAX_MEMORY=256mb
REDIS_EVICTION_POLICY=allkeys-lru

# ----------------------------------------------------------------------------
# QDRANT VECTOR DATABASE CONFIGURATION
# ----------------------------------------------------------------------------
QDRANT_HOST=starbunk-vectordb
QDRANT_PORT=6333
QDRANT_GRPC_PORT=6334

# ----------------------------------------------------------------------------
# AI/LLM CONFIGURATION
# ----------------------------------------------------------------------------
# OpenAI API (if used by CovaBot or DJCova)
OPENAI_API_KEY=your-openai-api-key-here

# Anthropic API (if used)
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# ----------------------------------------------------------------------------
# DISCORD CONFIGURATION
# ----------------------------------------------------------------------------
# Global Discord settings
DISCORD_COMMAND_PREFIX=!
DISCORD_PRESENCE_ENABLED=true

# ----------------------------------------------------------------------------
# BUNKBOT SPECIFIC CONFIGURATION
# ----------------------------------------------------------------------------
# Path to bots.yml configuration inside container
BUNKBOT_BOTS_DIR=/app/config

# Debug/Testing Configuration
DEBUG_MODE=false
TESTING_SERVER_IDS=
TESTING_CHANNEL_IDS=

# ----------------------------------------------------------------------------
# DJCOVA SPECIFIC CONFIGURATION
# ----------------------------------------------------------------------------
# Voice channel settings
VOICE_CHANNEL_TIMEOUT=300
MAX_QUEUE_SIZE=100

# Audio quality settings
AUDIO_BITRATE=128
AUDIO_SAMPLE_RATE=48000

# ----------------------------------------------------------------------------
# COVABOT SPECIFIC CONFIGURATION
# ----------------------------------------------------------------------------
# AI behavior settings
AI_RESPONSE_TIMEOUT=30
AI_MAX_TOKENS=1000
AI_TEMPERATURE=0.7

# ----------------------------------------------------------------------------
# BLUEBOT SPECIFIC CONFIGURATION
# ----------------------------------------------------------------------------
# BlueBot specific settings (if any)
BLUEBOT_FEATURE_FLAG=enabled

# ----------------------------------------------------------------------------
# NETWORK CONFIGURATION
# ----------------------------------------------------------------------------
# Docker network name
NETWORK_NAME=starbunk-network

# ----------------------------------------------------------------------------
# VOLUME PERSISTENCE
# ----------------------------------------------------------------------------
# Data persistence directories on Unraid
POSTGRES_DATA_DIR=${HOST_WORKDIR}/data/postgres
REDIS_DATA_DIR=${HOST_WORKDIR}/data/redis
QDRANT_DATA_DIR=${HOST_WORKDIR}/data/qdrant
DJCOVA_CACHE_DIR=${HOST_WORKDIR}/data/djcova/cache
DJCOVA_TEMP_DIR=${HOST_WORKDIR}/data/djcova/temp

# ----------------------------------------------------------------------------
# CONTAINER RESOURCE LIMITS (optional, uncomment to enable)
# ----------------------------------------------------------------------------
# Uncomment these to set resource limits per service

# BUNKBOT_CPU_LIMIT=0.5
# BUNKBOT_MEMORY_LIMIT=512m

# DJCOVA_CPU_LIMIT=1.0
# DJCOVA_MEMORY_LIMIT=1g

# COVABOT_CPU_LIMIT=0.5
# COVABOT_MEMORY_LIMIT=512m

# BLUEBOT_CPU_LIMIT=0.5
# BLUEBOT_MEMORY_LIMIT=512m

# ----------------------------------------------------------------------------
# SECURITY & MONITORING
# ----------------------------------------------------------------------------
# Health check intervals (seconds)
HEALTHCHECK_INTERVAL=30
HEALTHCHECK_TIMEOUT=10
HEALTHCHECK_RETRIES=3

# Restart policy (unless-stopped recommended for production)
RESTART_POLICY=unless-stopped

# ----------------------------------------------------------------------------
# BACKUP CONFIGURATION (for future use)
# ----------------------------------------------------------------------------
# BACKUP_ENABLED=true
# BACKUP_SCHEDULE=0 2 * * *
# BACKUP_RETENTION_DAYS=30
# BACKUP_DESTINATION=/mnt/user/backups/starbunk

# ============================================================================
# PRODUCTION DEPLOYMENT CHECKLIST
# ============================================================================
# Before deploying to production:
#
# 1. ✅ Change all default passwords (POSTGRES_PASSWORD, REDIS_PASSWORD)
# 2. ✅ Set real Discord bot tokens
# 3. ✅ Set API keys for AI services (if used)
# 4. ✅ Verify HOST_WORKDIR matches your Unraid appdata path
# 5. ✅ Ensure data directories exist and have correct permissions
# 6. ✅ Review resource limits based on your server capacity
# 7. ✅ Configure monitoring/alerting endpoints
# 8. ✅ Test deployment in staging environment first
# 9. ✅ Set up automated backups for database and config
# 10. ✅ Document incident response procedures
# ============================================================================
